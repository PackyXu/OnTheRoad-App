<?php    /**     * Created by PhpStorm.     * User: ontheroad     * Date: 2017/8/8     * Time: 16:11     */    namespace App\Mailer;    use App\User;    use Illuminate\Support\Facades\Auth;    /**     * Class UserMailer     * @package App\Mailer     */    class UserMailer extends Mailer    {        /**         * 用户关注邮件发送         * @param $email         */        public function followNotifyEmail ($email)        {            /*           $template = new SendCloudTemplate('ontheroad_app_new_user_follow', $data);           Mail::raw($template, function ($message) use ($notifiable){               $message->from('1178711258@qq.com', 'Laravel for onTheRoad');               $message->to($notifiable->email);           });*/            $data = ['url' => url('http://127.0.0.1:8000', Auth::guard('api')->user()->name)];            $this->sendTo('ontheroad_app_new_user_follow',$email,$data);        }        /**         * 重置密码邮件验证         * @param $email         * @param $token         */        public function passwordRest ($email,$token)        {            $data = ['url' => url('password/reset', $token)];            $this->sendTo('ontheroad_password_reset',$email,$data);        }        /**         * 注册邮件验证         * @param User $user         */        public function registerEmailVerify (User $user)        {            /*$template = new SendCloudTemplate('ontheroad_app_register', $data);            Mail::raw($template, function ($message) use ($user){                $message->from('1178711258@qq.com', 'Laravel for onTheRoad');                $message->to($user->email);            });*/            $data = [                'url'=> route('email.verify', ['token' => $user->confirmation_token]),                'name'=> $user->name            ];            $this->sendTo('ontheroad_app_register',$user->email,$data);        }    }